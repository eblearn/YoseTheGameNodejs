<!DOCTYPE html>
<html>
    <head>
        <title>Minesweeper</title>
		<script type="text/javascript">
				
			window.onload=function(){
				buildGameSurface();
				document.grid = [['empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty'], ['empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty'], ['empty', 'empty', 'empty', 'empty', 'empty', 'bomb' , 'empty', 'empty'], ['empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty'], ['empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty'], ['empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty'], ['empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty'], ['empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty', 'empty']];
			};
			
			function buildGameSurface() {
				var gameSurface = document.getElementById("gameSurface");
				
				for (rowIndex = 1; rowIndex <= 8; rowIndex++) {
					var row = document.createElement("tr");	
					
					for (columnIndex = 1; columnIndex <= 8; columnIndex++) {
						var cell = document.createElement("td");	
						cell.id = "cell-" + rowIndex.toString() + "x" + columnIndex.toString();
						cell.style.backgroundColor  = "#D3D3D3";
						cell.style.width = "15px";
						cell.style.height = "15px";
						cell.style.border = "1px solid #000000";
						cell.addEventListener("click", load, false)
						row.appendChild(cell);
						
					}
					
					gameSurface.appendChild(row);
				}
			}
			
			function load() {
				var coordinates = this.id.substring(this.id.indexOf("-")+1).split("x");
				var gridRow = coordinates[0] - 1;
				var gridColumn = coordinates[1] - 1;
				
				if (document.grid[gridRow][gridColumn] == "empty") {
					this.className = "safe";
					this.style.backgroundColor  = "#FFFFFF";
				} else {
					this.className = "lost";
					this.style.backgroundColor  = "#FF0000";
				}
			}
		</script>
	</head>
    <body>
		<div id="title">Minesweeper</div>
		<table id="gameSurface" style="border-spacing:0; border-collapse:collapse;">
			
		</table>
	</body>
</html>