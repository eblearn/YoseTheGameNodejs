<!DOCTYPE html>
<html>
    <head>
        <title>Facteurs premiers</title>
		<script type="text/javascript">
			
			function decomposeNumbers() {
				var xmlHttp = null;
				var enteredNumber = document.getElementById("number").value;
				var url = "/primeFactors?number=" + enteredNumber;
				
				xmlHttp = new XMLHttpRequest();
				
				xmlhttp.onreadystatechange=function() {
					if (xmlhttp.readyState==4 && xmlhttp.status==200) {
						var number = JSON.parse(xmlHttp.responseText);
						displayNumber(number);
					}
				}
				
				xmlHttp.open("GET", url, true);
				xmlHttp.send();
				
			}
			
			function displayNumber(number) {
				var resultDiv = document.getElementById("result");
				resultDiv.innerHTML = number.number + " = " + number.decomposition.join(' x ');
			}
						
		</script>
	</head>
    <body>
		<div id="title">Facteurs premiers !!!</div>
		<div id="invitation">
			Saisissez une série de nombres qui seront décomposés.
		</div>
		<div id="enter">
			<input id="number" type="text"><button id="go" type="button" onclick="displayNumber()">Decomposer ...</button>
		</div>	
		<div id="result">42 = 2 x 3 x 7</div>
	</body>
</html>