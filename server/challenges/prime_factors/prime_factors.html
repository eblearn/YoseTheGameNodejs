<!DOCTYPE html>
<html>
    <head>
        <title>Facteurs premiers</title>
		<script type="text/javascript">
			
			function decomposeNumbers() {
				var xmlHttp = null;
				var enteredNumber = document.getElementById("number").value;
				var url = "/primeFactors?number=" + enteredNumber;
				
				xmlHttp = new XMLHttpRequest();
				xmlHttp.open( "GET", url, false );
				xmlHttp.send( null );
				
				var number = JSON.parse(xmlHttp.responseText);
				displayNumber(number);
			}
			
			function displayNumber(number) {
				var result = document.getElementById("result");
				var primeFactors = "";
				
				primeFactors = number.decomposition[0];
				
				for(i = 1; i < number.decomposition.length; i++) {
					primeFactors += " x " + number.decomposition[i];
				}
								
				result.innerHTML = number.number + " = " + primeFactors;
			}
		</script>
	</head>
    <body>
		<div id="title">Facteurs premiers !!!</div>
		<div id="invitation">
			Saisissez une série de nombres qui seront décomposés.
		</div>
		<div id="enter">
			<input id="number" type="text"><button id="go" type="button" onclick="decomposeNumbers()">Decomposer ...</button>
		</div>	
		<div id="displayResult">
			<div id="result"></div>
		</div>	
    </body>
</html>